<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<meta name="theme-color" content="#000000">
		<meta name="description" content="Skylar's THREE js" />
		<meta name="keywords" content="webgl, threejs, repulsion, effect, hover, web development, demo, tutorial" />
		<meta name="author" content="Skylar Thomas" />
		<meta name="target" content="all">
		<meta http-equiv="cleartype" content="on">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		<title>DeadEnds</title>
		<link href="https://fonts.googleapis.com/css?family=Sacramento|Montserrat:700" rel="stylesheet">
		<link rel="stylesheet" href="https://use.typekit.net/zjs0dpp.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/99/three.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="./src/scripts/vendor/shaders/FresnelShader.js"></script>
		<script src="./src/scripts/vendor/ParticleEngine.js"></script>
		<script src="./src/scripts/vendor/ParticleEngineExamples.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/CopyShader.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/EffectComposer.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/RenderPass.js"></script>
		<script type="text/javascript" src="./src/scripts/vendor/ShaderPass.js"></script>
			<script type="text/javascript" src="./src/scripts/vendor/OrbitControls.js"></script>
		<script src="./src/scripts/vendor/GLTFLoader.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.0/paper-core.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/simplex-noise/2.4.0/simplex-noise.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>

	</head>
	<body>
		<main>
		      <!-- The cursor elements -->
        <div class="cursor cursor--small"></div>
        <canvas class="cursor cursor--canvas" resize></canvas>
          <!-- you can add more links here -->

						<!-- <symbol id="icon-keyboard" viewBox="0 0 100 70">
				<title>keyboard</title> -->
				<!-- <path d="M 60.94,1.83 39.22,1.83 C 36.71,1.83 34.67,3.86 34.67,6.376 L 34.67,28.1 C 34.67,30.61 36.71,32.65 39.22,32.65 L 60.94,32.65 C 63.45,32.65 65.5,30.61 65.5,28.1 L 65.5,6.376 C 65.5,3.86 63.45,1.83 60.94,1.83 Z M 44.79,18.63 50.08,11.74 55.37,18.63 Z" opacity="0.2"/>
				<path d="M 60.86,36.75 39.14,36.75 C 36.63,36.75 34.59,38.79 34.59,41.3 L 34.59,63.02 C 34.59,65.53 36.63,67.57 39.14,67.57 L 60.86,67.57 C 63.38,67.57 65.41,65.53 65.41,63.02 L 65.41,41.3 C 65.42,38.79 63.38,36.75 60.86,36.75 Z M 50.08,57.45 44.79,50.55 55.37,50.55 Z" opacity="0.2" />
				<path d="M 95.45,36.75 73.73,36.75 C 71.22,36.75 69.18,38.79 69.18,41.3 L 69.18,63.02 C 69.18,65.53 71.22,67.57 73.73,67.57 L 95.45,67.57 C 97.97,67.57 100,65.53 100,63.02 L 100,41.3 C 100,38.79 97.97,36.75 95.45,36.75 Z M 83.4,57.45 83.4,46.86 90.3,52.16 Z" />
				<path d="M 26.27,36.75 4.55,36.75 C 2.037,36.75 0,38.79 0,41.3 L 0,63.02 C 0,65.53 2.037,67.57 4.55,67.57 L 26.27,67.57 C 28.78,67.57 30.82,65.53 30.82,63.02 L 30.82,41.3 C 30.82,38.79 28.78,36.75 26.27,36.75 Z M 16.69,57.45 9.79,52.16 16.69,46.86 Z" />
			</symbol> -->

			<div class = "loadingScreen">
				<video poster = '../src/images/videoPoster.png' autoplay muted loop>
				<source src="../src/images/glitch.mp4" type="video/mp4">
				<!-- <source src="../src/images/glitch.mp4" type="video/webm"> -->
				</video>
				<div data-depth="0.15" class="link" id = "parallaxBuffer"></div>
				<div class = "parallax" data-relative-input="true">
				<img data-depth="0.15" src="../src/images/skull-new.png" alt="">
						<img data-depth="0.17" src="../src/images/eye1-new.png" alt="">
						<img data-depth="0.21" src="../src/images/eye2-new.png" alt="">
			</img>
				<img data-depth="0.26" src="../src/images/title-new.png" alt="">
				<img data-depth="0.11" src="../src/images/percent-new.png" alt="">
				</div>
			</div>
			<div class="sketch-container" id="sketch-container">
			<div class="frame" style = "display: none;">
				<video autoplay muted loop id="myVideo">
  			<source src="../src/images/glitch.mp4" type="video/mp4">
				</video>
				<div class = "topmenu">
								<a href = "" class = "link"><img src="../src/images/skull-small.png" alt=""></a>
							<div class = audioBtn>
					    <a href="https://soundcloud.com/heartbeats-music" target="_blank" data-value="GoToSoundCloud">Audio via <b>Heartbeats </b> </a>

	      <span><img class = "audiogif" src="../src/images/equalizer.gif" alt=""></span>
					</div>
			</div>
			<div class = "middleMenu">
					<ul class = "menuText">
						<li>MORE WORK BY <a href="https://www.artstation.com/skythomas1"><b>SKYLAR THOMAS</b></a></li>
						<li>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin in augue sed nibh mollis sodales at in velit. Maecenas ullamcorper mollis posuere.</li>
						<li>
								<a href="https://www.artstation.com/skythomas1"><span></span></a>
								<a href="https://www.artstation.com/skythomas1">FB</a>
								<a href="https://www.artstation.com/skythomas1">GM</a>
						</li>
					</ul>

					<div class="table">
				  <div class="cell">
				    <ul class="dots">
				      <li><a href="#"></a></li>
				      <li><a href="#"></a></li>
				      <li><a href="#"></a></li>
				    </ul>
				  </div>
				</div>
			</div>
			<div class = "bottomTitle">
				<h1>DEADENDS</h1>
				<img src="../src/images/equalizer.gif" alt="">

				<div class="table">
				<div class="cell">
					<ul class="dots">
						<li><a href="#"></a></li>
						<li><a href="#"></a></li>
						<li><a href="#"></a></li>
						<li><a href="#"></a></li>
					</ul>
				</div>
			</div>
			</div>
			</div>
			<script type="x-shader/x-vertex" id="vertexShader">
#define GLSLIFY 1
// Texture varyings
varying vec2 v_uv;

/*
 * The main program
 */
void main() {
    // Calculate the varyings
    v_uv = uv;

    // Vertex shader output
    gl_Position = vec4(position, 1.0);
}

		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

				// Common uniforms
				uniform vec2 u_resolution;
				uniform vec2 u_mouse;
				uniform float u_time;

				// Texture uniforms
				uniform sampler2D u_texture;

				// Texture varyings
				varying vec2 v_uv;

				/*
				 * Random number generator with a float seed
				 *
				 * Credits:
				 * http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0
				 */
				highp float random1d(float dt) {
						highp float c = 43758.5453;
						highp float sn = mod(dt, 3.14);
						return fract(sin(sn) * c);
				}

				/*
				 * Pseudo-noise generator
				 *
				 * Credits:
				 * https://thebookofshaders.com/11/
				 */
				highp float noise1d(float value) {
						highp float i = floor(value);
						highp float f = fract(value);
						return mix(random1d(i), random1d(i + 1.0), smoothstep(0.0, 1.0, f));
				}

				/*
				 * Random number generator with a vec2 seed
				 *
				 * Credits:
				 * http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0
				 * https://github.com/mattdesl/glsl-random
				 */
				highp float random2d(vec2 co) {
						highp float a = 12.9898;
						highp float b = 78.233;
						highp float c = 43758.5453;
						highp float dt = dot(co.xy, vec2(a, b));
						highp float sn = mod(dt, 3.14);
						return fract(sin(sn) * c);
				}

				/*
				 * The main program
				 */
				void main() {

					// float r = u_resolution.y * 1.5; //1.5
					// float f = step( 0.5, u_mouse.y / u_resolution.y ) * ( ( u_mouse.y - r ) / ( u_resolution.y - r ) );
						float r = u_resolution.y * 0.8;
						float f = step( 0.8, u_mouse.y / u_resolution.y ) * ( ( u_mouse.y - r ) / ( u_resolution.y - r ) );

						// Calculate the effect relative strength
						float strength = (0.3 + 0.7 * noise1d(0.3 * u_time)) * f;

						// Calculate the effect jump at the current u_time interval
						float jump = 500.0 * floor(0.3 * f * (u_time + noise1d(u_time)));

						// Shift the texture coordinates
						vec2 uv = v_uv;
						uv.y += 0.2 * strength * (noise1d(5.0 * v_uv.y + 2.0 * u_time + jump) - 0.5);
						uv.x += 0.1 * strength * (noise1d(100.0 * strength * uv.y + 3.0 * u_time + jump) - 0.5);

						// Get the texture pixel color
						vec3 pixel_color = texture2D(u_texture, uv).rgb;

						// Add some white noise
						//pixel_color += vec3(5.0 * strength * (random2d(v_uv + 1.133001 * vec2(u_time, 1.13)) - 0.5));

						// Fragment shader output
						gl_FragColor = vec4(pixel_color, 1.0);
				}
	</script>
		</main>
		<script src="./src/scripts/tutorial.js"></script>
		<!-- <script src="./src/scripts/vendor/shader-example-postprocessing.js"></script> -->
	</body>
</html>
